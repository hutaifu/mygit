<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="" defer></script>
    <script src="" async></script>
    <script defer>
        let a;
    </script>
</head>
<body>
    <script>
        function loadScripet(url,callback){
            var script = document.createElement('script');
        script.type = 'text/javascript';
        //script.readyState = 'loading';//loaded,complete;
        if(script.readyState){
            script.onreadystatechange = function(){
            if(['complete','loaded'].includes(script.readyState)){
                test();
            }
        }
        }else{
        //但凡需要下载都有load事件
        script.onload = function(){
            //ie不兼容
            if(callback && typeof callback === 'function'){
                callback();
            }
         }
        }
        script.src = url;
        //执行到这里就会异步下载
        document.head.appendChild(script);
        //这里加载完就会执行
        }
        loadScripet('tool.js',()=>{test()})
        //loadScripet('tool.js','test') //使用eval
        //tool['callback']();//配合对象方法库使用
    </script>
    
</body>
</html>