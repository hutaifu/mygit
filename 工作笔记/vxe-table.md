### vxe-table记录数据操作

+ 在 Vue.js 中，当我们使用 $set 方法修改对象的属性值时，Vue 会将该属性设置为响应式的，并且能够自动更新相关视图。然而，在 vxe-table 组件中，如果我们修改了不可见列的数据属性值，由于不可见列的数据默认不会被设置为响应式的，因此 vxe-table 无法自动更新相关视图或记录修改记录。为了解决这个问题，我们需要手动调用 vxe-table 组件的 syncData 方法来同步数据和记录修改记录，以便让 vxe-table 能够正确地更新视图和修改记录。

  具体来说，syncData 方法是 vxe-table 中用于手动同步数据和修改记录的方法。该方法会重新计算表格中的所有数据和已做的操作，从而确保 vxe-table 的内部状态与实际数据一致。在使用 $set 方法更新不可见列的数据属性后，我们需要手动调用 syncData 方法来同步数据，以便让 vxe-table 监听到属性值的变化并记录在修改记录中。(这个方法好像没用)

+ 原理

  + vxe-table是一个基于Vue.js的高性能表格组件库，它可以快速地渲染大量数据，并且支持各种交互操作，如排序、筛选、分页等。在vxe-table中，记录修改数据的原理是通过监听单元格编辑事件，在编辑完成后将修改后的数据存储到内部的dataset数据集合中。

    具体来说，当用户双击某个单元格进入编辑状态时，vxe-table会触发该单元格的edit事件。在该事件的处理函数中，vxe-table会获取当前被编辑的行和列信息，然后将其包装成一个更新对象，该对象包含了要更新的字段名和更新后的值。接着，vxe-table会将该更新对象存储到内部的dataset数据集合中。这样，在提交表单或保存数据时，就可以遍历dataset数据集合中的所有更新对象，将它们发送到服务器端进行处理。

    需要注意的是，为了提高性能和减少内存占用，vxe-table并不会在每次编辑完成后立即将修改后的数据存储到dataset数据集合中，而是使用一种称为“脏标记”的技术，只有在数据发生修改时才将其标记为脏数据，最终只提交脏数据到服务器端进行处理。

    在vxe-table中，单元格的值发生变化时，不一定要进入编辑状态才能记录修改数据。这是因为vxe-table通过监听单元格的变化事件来自动更新内部的dataset数据集合，从而实现记录修改数据的功能。具体来说，当单元格的值发生变化时，vxe-table会触发该单元格的change事件。在该事件的处理函数中，vxe-table会获取当前被修改的行和列信息，然后将其包装成一个更新对象，该对象包含了要更新的字段名和更新后的值。接着，vxe-table会将该更新对象存储到内部的dataset数据集合中。这样，在提交表单或保存数据时，就可以遍历dataset数据集合中的所有更新对象，将它们发送到服务器端进行处理。需要注意的是，为了提高性能和减少内存占用，vxe-table同样使用脏标记技术来优化修改数据的记录。只有当数据发生真正的修改时，才会将其标记为脏数据并存储到dataset数据集合中。

+ 如果要对表格数据进行操作，并且用户不可见时建议手动保存这条数据，最后保存时进行处理 。

### vxe-table刷新操作

vxe-table 是一个基于 Vue.js 的数据表格组件库，该库提供了多种刷新表格的方法。

以下是几种常用的刷新表格的方法：

1. 利用 ref 调用 reloadData 方法：在组件中添加 ref 属性，并在需要刷新表格的方法中调用该组件的 reloadData 方法。例如：this.$refs.table.reloadData();
2. 利用 key 更新组件：在组件外层包裹一层 div 并设置唯一的 key 值，每次需要刷新表格时更改该 key 值即可。例如：<div :key="tableKey"><vxe-table></vxe-table></div>
3. 利用 clearAll 清空表格数据并重新加载：在需要刷新表格的方法中先调用 this.refs.table.clearAll() 方法清空表格数据，再调用加载数据的方法。例如：this.refs.table.clearAll()方法清空表格数据，再调用加载数据的方法。例如：this.refs.table.clearAll(); fetchData();

这些方法都可以实现刷新表格的效果，具体选择哪种方法取决于应用场景和个人喜好。



在 vxe-table 组件中，loadData 方法用于加载数据到表格中。通过调用该方法可以将新的数据渲染到表格中，实现刷新表格的效果。该方法接受一个数组类型的参数，表示要加载的数据。例如：

```
复制代码this.$refs.table.loadData(newData);

```

其中，newData 是包含新数据的数组。调用该方法后，表格会清空原有的数据，并使用新数据重新渲染表格。

需要注意的是，loadData 方法只会更新表格中的数据，不会影响其他配置项和样式。如果需要更新表格的其他配置项，如列定义、分页设置等，需要手动更新相应的属性或调用相应的方法实现。

### 特性

在 vxe-table 组件中，afterFullData 是一个回调函数，用于在表格渲染完成后获取表格完整的数据集合。当 vxe-table 渲染完成后，会触发 afterFullData 回调函数，该函数的参数是一个包含所有数据的数组。通过获取该数组，我们可以对表格中的数据进行进一步的处理和操作。例如，我们可以将数据保存到数据库中或进行其他的业务逻辑操作。需要注意的是，如果表格中启用了分页功能，afterFullData 只会返回当前页的数据，如果需要获取全部数据，需要对每一页的数据进行合并操作。